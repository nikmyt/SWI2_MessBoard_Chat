9.11
Caniusethis - pro css kompatibilitu
Polyfill? - zlepší kompatibilitu frontendu s webem

dvoufaktorová autentifikace is good but fuck, are we really doing that?
regex pro heslo

incremental db backup

zpětná vazba je funkční
ve zkratce nefunkční: není to essential but nice to have.

rabbitmq
odeslat z jedné instance do druhé

ve vue
websocket - STOMP

configure client websocket sockjs

9.1
so. you need to make 2 functional frontends in 7 days. no biggie.
look fam as long as you make this cumsocket shit work the ui is easy-ish
fuck
just a web and m.web interface.
THE ONLY PROBLEM.
the cumsock

yeah i fixed it
wrong channel
good

technically, its the worst fucking thing ever but if i do another frontend it's technically finished


ok its fine: the messageForm will save us.
also implement persistent queue up to idk, 1000 messages. is that too many? nah. try 100

things that are broken rn:
-username works for topbar but not chat??? i guess you could parse it if youre desperate to know your own name
-if you try to send messageForm presumably the BE shits itself and makes it a null (messageDPO?)
-aaaaand.........make it less uggy
-i never finished the java update, i stopped at the listener so pls check chatgpt again what to do. and find listener. its a little fucky wucky rn

2024-01-09 23:46:11.781630+00:00 [error] <0.11833.0> Channel error on connection <0.11824.0> (172.17.0.1:47704 -> 172.17.0.2:5672, vhost: '/', user: 'guest'), channel 1:
2024-01-09 23:46:11.781630+00:00 [error] <0.11833.0> operation queue.declare caused a channel exception precondition_failed: inequivalent arg 'x-message-ttl' for queue 'queue-1' in vhost '/': received the value '86400000' of type 'signedint' but current is none

10.1.24
-we cannot use TTL as an easy hacky way to store messages, but this gives us oppurtunity to do it the right way
-still make messageForm work
-js parsing is fuckened, try manually adding } etc. or just parsing yourself
-chat has a good idea on parsing directly

11.1
what are even the reqs?
-persistent messgaes (dammit)
-completely reworked sendMessage where queue name is not handled by backend but frontend (dammit)
-web app (ok) and desktop app (fuck)
-each user can make at least 2 of their own groups (FUCKKKK) that they can add others to (FUUUUUUUUUUUUUUUUCKKKKK)
-message consumerism (message must be consumed but doesn't need to be that persistent, then?)

FIREFIGHTING:
-persistent messages are a must
-nice ui is a must
-second app can just be... messenger app. we already have login code, it can sux ballz, as long as it support DB and WS connection. so java app is fine? maybe

1) frontend handles it's own queues, unlike how backend throws it all into globalChat
2) rabbit handles real time timely sending/recieving
3) backend handles the saving of the messages to db
so peep new UNIVERSAL messageForm: destination, timestamp, sender, text, extra
should be enough
destination is extremely important and selects the chatroom where to send the messages.
now, db and chatmessage interconnectness: named globalChat and [username]Chat[#] (obviously procedurally named/created depending on username and assigned incrementally increasing number)
im thinking we do it in SQLite. the toplevel is called messboard, and there's tables called, you guessed it, globalChat and the procedurally generated user chatrooms. each with the same layout: destination, timestamp, sender, text, extra

fuck how do i add ppl to the chat with the db thing. i guess an extra special table of ChatroomAllowed, which is just username+chatroom name. anyone can add anyone to a chat theyre in.

another thing, so i save messages but what now? i need to load them too. load only messages from the specific chatroom i loaded UP TO A POINT. okay its very important you don't load EVERY MESSAGE FROM THE GLOBAL CHAT FROM THE BEGINNING OF TIME.

PRAXIS:
1) Uncouple backend's monopoly of where messages go. Criminals: ApiClent.ts-sendMessage, makeMessageSendable() --------- DONE?
1.5) actually check wtf you are sending backwards and forwards
X) Frontend ability to choose which chat to send messages to - /topic/globalChat, /topic/weenus1chatB
X) Make UI nice - remove what you have, add left and right bar.

13.1
I'm the greatest programmer that has ever lived!
...
I'm the worst programmer that has ever lived.

anyway now that it boots again:
-i need to fix message formatting ughghghgh
-need to do the rooms n shit

right the FORMATTING is FUCKED please keep this in mind for BOTH SIDES
java side wants some parses but i already made form, what else??
ask chat what this means:
JSON parse error: Cannot construct instance of `cz.osu.java.messboardapp.Form.MessageForm` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('{"destination":"globalChat","timestamp":"1705160050541","sender":"weenus1","text":"this is a message","extra":""}')]